[debug] [2023-06-06T18:23:12.725Z] ----------------------------------------------------------------------
[debug] [2023-06-06T18:23:12.727Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --project politics-navigator
[debug] [2023-06-06T18:23:12.728Z] CLI Version:   11.16.1
[debug] [2023-06-06T18:23:12.728Z] Platform:      linux
[debug] [2023-06-06T18:23:12.728Z] Node Version:  v18.12.1
[debug] [2023-06-06T18:23:12.729Z] Time:          Tue Jun 06 2023 20:23:12 GMT+0200 (Central European Summer Time)
[debug] [2023-06-06T18:23:12.729Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-06-06T18:23:12.886Z] Object ".extensions" in "firebase.json" has unknown property: {"additionalProperty":"firestore-algolia-search"}
[debug] [2023-06-06T18:23:12.896Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-06-06T18:23:12.896Z] > authorizing via signed-in user (sep@sep.dev)
[info] i  emulators: Starting emulators: functions, hosting, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting, extensions"}}
[debug] [2023-06-06T18:23:12.911Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator [none]
[debug] [2023-06-06T18:23:13.332Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator 200
[debug] [2023-06-06T18:23:13.333Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator {"projectId":"politics-navigator","projectNumber":"548958651102","displayName":"Politics Navigator","name":"projects/politics-navigator","resources":{"hostingSite":"politics-navigator","realtimeDatabaseInstance":"politics-navigator-default-rtdb"},"state":"ACTIVE","etag":"1_2d6c6467-6d7c-41c0-ae61-54ad2ca2c727"}
[debug] [2023-06-06T18:23:13.335Z] Successfully read params from firestore-algolia-search.env
[debug] [2023-06-06T18:23:13.335Z] Error: ENOENT: no such file or directory, open '/home/septimber/politics/extensions/firestore-algolia-search.env.548958651102'
[debug] [2023-06-06T18:23:13.335Z] Error: ENOENT: no such file or directory, open '/home/septimber/politics/extensions/firestore-algolia-search.env.politics-navigator'
[debug] [2023-06-06T18:23:13.336Z] Error: ENOENT: no such file or directory, open '/home/septimber/politics/extensions/firestore-algolia-search.env.local'
[debug] [2023-06-06T18:23:13.337Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator/adminSdkConfig [none]
[debug] [2023-06-06T18:23:13.634Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator/adminSdkConfig 200
[debug] [2023-06-06T18:23:13.635Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator/adminSdkConfig {"projectId":"politics-navigator","databaseURL":"https://politics-navigator-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"politics-navigator.appspot.com"}
[debug] [2023-06-06T18:23:13.658Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator [none]
[debug] [2023-06-06T18:23:14.045Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator 200
[debug] [2023-06-06T18:23:14.045Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator {"projectId":"politics-navigator","projectNumber":"548958651102","displayName":"Politics Navigator","name":"projects/politics-navigator","resources":{"hostingSite":"politics-navigator","realtimeDatabaseInstance":"politics-navigator-default-rtdb"},"state":"ACTIVE","etag":"1_2d6c6467-6d7c-41c0-ae61-54ad2ca2c727"}
[debug] [2023-06-06T18:23:14.047Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/publishers/algolia/extensions/firestore-algolia-search/versions filter=&showPrereleases=false&pageSize=100&pageToken=
[debug] [2023-06-06T18:23:14.898Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/publishers/algolia/extensions/firestore-algolia-search/versions 200
[debug] [2023-06-06T18:23:14.902Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/publishers/algolia/extensions/firestore-algolia-search/versions {"extensionVersions":[{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.0.1","ref":"algolia/firestore-algolia-search@0.0.1","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.0.1","description":"Enable full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia","deletionPolicy":"DELETE"}],"author":{"authorName":"Sajid Momin","url":"https://github.com/smomin"},"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/algolia-firebase-extension","params":[{"param":"COLLECTION_PATH","label":"Collection path","type":"STRING","description":"Specify the Collection path to monitor for changes.\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Must be a valid Cloud Firestore collection"},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"A comma separated list of Cloud Firestore fields to index. Leave empty to index all fields.\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"Specify the Algolia Index Name.","required":true,"immutable":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"Specify the Algolia Application Id.","required":true,"immutable":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"Create a new API Key that has addObject, deleteObject, listIndexes, deleteIndex, editSettings, and settings, permissions.  Avoid using the Admin API key if all possible.","required":true,"immutable":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore collection.  The extension is applied and configured on a collection.\n\nThis extension listens for changes to the specified collection. If a document is added, updated, or deleted, this\nextension will:\n\n- Add/Update - document will be indexed into Algolia.  The fields defined in the extension configuration will be used to send to Algolia.  The document Id will be used as the object id in Algolia.\n- Delete - the Algolia record associate to document id will be removed.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia][https://www.algolia.com/] site.\n\n#### Billing\n\nTo install an extension, your project must be on the\n[Blaze (pay as you go) plan][blaze-pricing].\n\n- You will be charged [around $0.01 per month][pricing-examples] for each\n  instance of this extension you install.\n- This extension uses other Firebase and Google Cloud Platform services,\n  which have associated charges if you exceed the service's free tier:\n    - Cloud Functions (Node.js 10+ runtime. [See FAQs][faq].)\n    - Cloud Firestore\n\n[blaze-pricing]: https://firebase.google.com/pricing\n[pricing-examples]: https://cloud.google.com/functions/pricing#pricing_examples\n[faq]: https://firebase.google.com/support/faq#expandable-24\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents\nThis extension only sends the documents that have been changed -- it does not index existing documents into Algolia. In order to backfill your Algolia `${param:ALGOLIA_INDEX_NAME}` Index with all the documents in your collection, you can run the import script provided by this extension.\n\nThe import script can read all existing documents in a Cloud Firestore collection and insert them into your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\nThe `npm run import` is for use with the official Firebase Extension [**Search with Algolia**](https://github.com/algolia/algolia-firebase-extension).\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n- The import script can take up to _O(collection size)_ time to finish.\n\n#### Run the script\n\nThe import script uses several values from your installation of the extension:\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the collection that you want to index?\n\n- Fields: What are fields in the document do you want to index?\n\n**NOTE:** This configuration can be left empty if you want to index all the fields in this document.\n\n- Algolia Application ID: What is the Algolia application id that contains the index?\n\n- Algolia API Key: What is the Algolia API key with addObject, deleteObject, listIndexes, deleteIndex, editSettings, and settings permissions.\n\n- Algolia Index Name: What is the Algolia index name that will contain the collection document records.\n\nRun the import script using [`npx` (the Node Package Runner)](https://www.npmjs.com/package/npx) via `npm` (the Node Package Manager).\n\n1.  Make sure that you've installed the required tools to run the import script:\n\n- To access the `npm` command tools, you need to install [Node.js](https://www.nodejs.org/).\n- If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  Set up credentials. The import script uses Application Default Credentials to communicate with Firebase.\n\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Clone [algolia-firebase-extension](https://github.com/algolia/algolia-firebase-extension) repo.\n1.  Run the import script via `npx`.\n\n- Execute the following command in the `functions` folder:\n\n  ```\n    LOCATION=${param:LOCATION}\\\n    ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n    ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n    ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n    COLLECTION_PATH=${param:COLLECTION_PATH}\\\n    FIELDS=${param:FIELDS}\\\n    GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n    npm run import\n  ```\n**NOTE:** If the `FIELDS` param contains `{ unspecified parameter }` in the command above, please clear it out since this is an invalid value.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n---\n\n## 🧩 Install this experimental extension\n\n> ⚠️ **Experimental**: This extension is available for testing as an _experimental_ release. It has not been as thoroughly tested as the officially released extensions, and future updates might introduce breaking changes. If you use this extension, please [report bugs and make feature requests](https://github.com/algolia/algolia-firebase-extension/issues/new) in our GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install aloglia-firebase/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore collection.  The extension is applied and configured on a collection.\n\nThis extension listens for changes to the specified collection. If a document is added, updated, or deleted, this\nextension will:\n\n- Add/Update - document will be indexed into Algolia.  The fields defined in the extension configuration will be used to send to Algolia.  The document Id will be used as the object id in Algolia.\n- Delete - the Algolia record associate to document id will be removed.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nTo install an extension, your project must be on the\n[Blaze (pay as you go) plan][blaze-pricing].\n\n- You will be charged [around $0.01 per month][pricing-examples] for each\n  instance of this extension you install.\n- This extension uses other Firebase and Google Cloud Platform services,\n  which have associated charges if you exceed the service's free tier:\n    - Cloud Functions (Node.js 10+ runtime. [See FAQs][faq].)\n    - Cloud Firestore\n\n[blaze-pricing]: https://firebase.google.com/pricing\n[pricing-examples]: https://cloud.google.com/functions/pricing#pricing_examples\n[faq]: https://firebase.google.com/support/faq#expandable-24\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the collection that you want to index?\n\n- Fields: What are fields in the document do you want to index?\n\n**NOTE:** This configuration can be left empty if you want to index all the fields in this document.\n\n- Algolia Application ID: What is the Algolia application id that contains the index?\n\n- Algolia API Key: What is the Algolia API key with addObject, deleteObject, listIndexes, deleteIndex, editSettings, and settings permissions.\n\n- Algolia Index Name: What is the Algolia index name that will contain the collection document records.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Listens for create, update, and delete triggers on a document in the specified collection.\n\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"b3e1a3f2a4ce2f926b7335e242b8d8c3180286ef1f4737c8a3a61806a859d8c6","createTime":"2021-04-02T21:17:04.160852Z","id":"0.0.1","listing":{"state":"APPROVED"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.1.0","ref":"algolia/firestore-algolia-search@0.1.0","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.1.0","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\"."},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true,"immutable":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true,"immutable":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true,"immutable":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents\nThis extension only sends the documents that have been changed -- it does not index existing documents into Algolia. In order to backfill your Algolia `${param:ALGOLIA_INDEX_NAME}` Index with all the documents in your collection, you can run the import script provided by this extension.\n\nThe import script can read all existing documents in a Cloud Firestore collection and insert them into your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n- The import script can take up to _O(collection size)_ time to finish.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import script using `npm` (the Node Package Manager).\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npm` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Clone [firestore-algolia-search](https://github.com/algolia/firestore-algolia-search) repo in order to execute the `npm` command.\n1.  Execute the below command in the `functions` folder:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npm run import\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"14c57acd74e9ccb35e0ebab93a78dd0ef0c2a3f21ad7967367d5f5bdc9f0dfe4","createTime":"2021-04-20T22:24:00.586706Z","id":"0.1.0","deprecationMessage":"0.1.0","listing":{"state":"APPROVED"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.1.1","ref":"algolia/firestore-algolia-search@0.1.1","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.1.1","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\"."},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true,"immutable":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true,"immutable":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true,"immutable":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents\nThis extension only sends the documents that have been changed -- it does not index existing documents into Algolia. In order to backfill your Algolia `${param:ALGOLIA_INDEX_NAME}` Index with all the documents in your collection, you can run the import script provided by this extension.\n\nThe import script can read all existing documents in a Cloud Firestore collection and insert them into your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n- The import script can take up to _O(collection size)_ time to finish.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"54b795295114db552470668e4559bf5fc8bcfc6390606adc199ea3fa430f7623","createTime":"2021-04-21T03:24:36.340657Z","id":"0.1.1","deprecationMessage":"0.1.1","listing":{"state":"APPROVED"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.1.2","ref":"algolia/firestore-algolia-search@0.1.2","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.1.2","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\"."},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true,"immutable":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true,"immutable":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true,"immutable":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents\nThis extension only sends the documents that have been changed -- it does not index existing documents into Algolia. In order to backfill your Algolia `${param:ALGOLIA_INDEX_NAME}` Index with all the documents in your collection, you can run the import script provided by this extension.\n\nThe import script can read all existing documents in a Cloud Firestore collection and insert them into your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n- The import script can take up to _O(collection size)_ time to finish.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"770cdf5c797ffabf3cb86b6d9a8118b70c52ddd24e7bf9070c2aabfa987a21c1","createTime":"2021-04-22T04:31:09.157389Z","id":"0.1.2","deprecationMessage":"0.1.2","listing":{"state":"APPROVED"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.1.3","ref":"algolia/firestore-algolia-search@0.1.3","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.1.3","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"2d7f0972e4ce971c8772fec2aa3850af0360fd71a6deecb4257a6f426f73ee31","createTime":"2021-05-07T04:32:05.235749Z","id":"0.1.3","deprecationMessage":"0.1.3","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"10"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.1.5","ref":"algolia/firestore-algolia-search@0.1.5","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.1.5","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"076ec5b6f9b070cac470e76dd16a23ab106a7e60a24ae0181c6b425b2f1c56be","createTime":"2021-05-21T14:23:54.692350Z","id":"0.1.5","deprecationMessage":"0.1.5","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"70"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.2.0","ref":"algolia/firestore-algolia-search@0.2.0","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.2.0","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"3772a479522a1f2863404339c9a02ea259d2896b7a2b948781a37dad8f5b95aa","createTime":"2021-06-03T04:42:56.989890Z","id":"0.2.0","deprecationMessage":"0.2.0","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"20"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.3.0","ref":"algolia/firestore-algolia-search@0.3.0","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.3.0","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"af90b59c944f1601dd78df583e6eefebfcd53a99d5079a5ba17c5baa5086facd","createTime":"2021-06-07T15:30:51.299832Z","id":"0.3.0","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"50"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.4.0","ref":"algolia/firestore-algolia-search@0.4.0","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.4.0","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"7bbaab5bcbdd62da10f0392fc4748560fffce7844e19fc446bbd76210e58bd15","createTime":"2021-06-15T15:38:53.455060Z","id":"0.4.0","listing":{"state":"APPROVED"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.4.1","ref":"algolia/firestore-algolia-search@0.4.1","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.4.1","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"2cd0a687e803d918229a4c85e9970724c9c4192dbd01dd129fc1aa7a2186fba3","createTime":"2021-06-16T02:29:07.115947Z","id":"0.4.1","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"80"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.4.2","ref":"algolia/firestore-algolia-search@0.4.2","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.4.2","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"266add8543155e730c6ae6e9c513eb0bcdfb3b77ac492a3765e6cd180dc8a513","createTime":"2021-06-30T05:17:27.472297Z","id":"0.4.2","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"100"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.4.3","ref":"algolia/firestore-algolia-search@0.4.3","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.4.3","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` param if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"1a86beb0f1e151463bceeb943b7ab1e7eb74727110be24ce8ef493f8a3dce9d0","createTime":"2021-07-10T17:24:01.806062Z","id":"0.4.3","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"10"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.0","ref":"algolia/firestore-algolia-search@0.5.0","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.0","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"4ab6571ec09f1080e5e4fe110ec9632e4aa7fb70442ebbadd406df1e4524b352","createTime":"2021-07-13T05:51:22.624224Z","id":"0.5.0","listing":{"state":"APPROVED"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.1","ref":"algolia/firestore-algolia-search@0.5.1","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.1","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"3c9c31301daef92b7f8f9663e3ac67ecb39cfa61ffc72267a3dba82f0f4a428a","createTime":"2021-07-13T16:26:30.563981Z","id":"0.5.1","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"300"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.10","ref":"algolia/firestore-algolia-search@0.5.10","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.10","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n      **NOTE**: Make sure that there is no space inbetween the specified `FIELDS`. E.g. `name,category,views` ✅ | `name, category, views` ❌.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"f6729294136c60c5d42f43d6d8d97eac492f5a283eddf4c6e7fb89c3d8d1dc56","createTime":"2022-05-14T04:22:53.087037Z","id":"0.5.10","releaseNotes":"### Features\n\n* add data sync ([482b43f](https://github.com/algolia/firestore-algolia-search/commit/482b43f405e044d6c0b166d95a52ab1c119b8fe3))\n","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"300"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.11","ref":"algolia/firestore-algolia-search@0.5.11","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.11","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n      **NOTE**: Make sure that there is no space inbetween the specified `FIELDS`. E.g. `name,category,views` ✅ | `name, category, views` ❌.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"80917328e0311f30fda6f1c6fdc90be3e4e8ddf07187715483fb3651601ea9f8","createTime":"2022-06-06T20:02:39.571556Z","id":"0.5.11","releaseNotes":"### Bug Fixes\n\n* move rimraf from dev to dependencies ([44a747a](https://github.com/algolia/firestore-algolia-search/commit/44a747a796709dc84ecab5805bb406611a17a678))\n","listing":{"state":"APPROVED"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.12","ref":"algolia/firestore-algolia-search@0.5.12","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.12","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n      **NOTE**: Make sure that there is no space inbetween the specified `FIELDS`. E.g. `name,category,views` ✅ | `name, category, views` ❌.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"a5ceda862993109450a2a3e69d29202a05a60dd8100ee29197fe00a7dc228ab5","createTime":"2022-06-06T20:17:38.454256Z","id":"0.5.12","releaseNotes":"### Bug Fixes\n\n* moving all dev to dependencies ([01d8f66](https://github.com/algolia/firestore-algolia-search/commit/01d8f665797a19acc821aac3522951837ac5ebeb))\n","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"200"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.13","ref":"algolia/firestore-algolia-search@0.5.13","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.13","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n      npx firestore-algolia-search\n      ```\n      Below are the questions that will be asked:\n      ```\n      What is the Region? ${param:LOCATION}\n      What is the Project Id? ${param:PROJECT_ID}\n      What is the Algolia App Id? ${param:ALGOLIA_APP_ID}\n      What is the Algolia Api Key? ${param:ALGOLIA_API_KEY}\n      What is the Algolia Index Name? ${param:ALGOLIA_INDEX_NAME}\n      What is the Collection Path? ${param:COLLECTION_PATH}\n      What are the Fields to extract? ${param:FIELDS}\n      What is the Transform Function? ${param:TRANSFORM_FUNCTION}\n      What is the path to the Google Application Credential File? </path/to/service/account/key>\n      ```\n      **NOTE**: Make sure that there is no space inbetween the specified `FIELDS`. E.g. `name,category,views` ✅ | `name, category, views` ❌.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"d6aefc6700830d397ec5475dc4d33103e7713784c4885739919b1e796bf3ac32","createTime":"2022-06-20T04:34:44.748275Z","id":"0.5.13","releaseNotes":"### Features\n\n* add commandline inputs for import process ([703827f](https://github.com/algolia/firestore-algolia-search/commit/703827f01321b472efa591e4c0d99e200c146805))\n","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"1600"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.14","ref":"algolia/firestore-algolia-search@0.5.14","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.14","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n      npx firestore-algolia-search\n      ```\n      Below are the questions that will be asked:\n      ```\n      What is the Region? ${param:LOCATION}\n      What is the Project Id? ${param:PROJECT_ID}\n      What is the Algolia App Id? ${param:ALGOLIA_APP_ID}\n      What is the Algolia Api Key? ${param:ALGOLIA_API_KEY}\n      What is the Algolia Index Name? ${param:ALGOLIA_INDEX_NAME}\n      What is the Collection Path? ${param:COLLECTION_PATH}\n      What are the Fields to extract? ${param:FIELDS}\n      What is the Transform Function? ${param:TRANSFORM_FUNCTION}\n      What is the path to the Google Application Credential File? </path/to/service/account/key>\n      ```\n      **NOTE**: Make sure that there is no space inbetween the specified `FIELDS`. E.g. `name,category,views` ✅ | `name, category, views` ❌.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"03bab7844ddc5fe213133ad4da94578081b894882e8244f39b6c06bdf46b0270","createTime":"2022-09-09T03:04:10.260926Z","id":"0.5.14","releaseNotes":"### Bug Fixes\n\n* remove null attributes from index record ([e297e27](https://github.com/algolia/firestore-algolia-search/commit/e297e27e28c8cda6cc6dd274f2bafbbc775781c7))\n","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"7300"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.2","ref":"algolia/firestore-algolia-search@0.5.2","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.2","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n**Details**:\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n**Configuration Parameters:**\n\n- Cloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n**Cloud Functions:**\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"fe17da67bfeb9f8a50bdc8c562ddb111741dacf2f0e57152f7472f7e15adc6c0","createTime":"2021-08-17T18:30:22.942169Z","id":"0.5.2","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"400"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.3","ref":"algolia/firestore-algolia-search@0.5.3","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.3","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"9fc3632fdb6d352f257a00ea3b4851e63fe08264c89317fd15a27a040e6b18ae","createTime":"2021-09-28T19:07:10.617617Z","id":"0.5.3","releaseNotes":"### Features\n\n* handle removed attributes ([321cb84](https://github.com/algolia/firestore-algolia-search/commit/321cb842246df903658c9ea209fb29927cf17e85))\n* **release:** add semver, commitlint, and changelog ([728eb2f](https://github.com/algolia/firestore-algolia-search/commit/728eb2fd44db5aabafb19886b12b7e622e75fe92))\n","listing":{"state":"APPROVED"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.4","ref":"algolia/firestore-algolia-search@0.5.4","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.4","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"8c43009f0e2cb2d509f891a3822b1b91ac6819660b7f74434909c6090e08b2a2","createTime":"2021-09-29T06:07:42.261019Z","id":"0.5.4","releaseNotes":"### Features\n\n* handle removed attributes ([321cb84](https://github.com/algolia/firestore-algolia-search/commit/321cb842246df903658c9ea209fb29927cf17e85))\n* **release:** add semver, commitlint, and changelog ([728eb2f](https://github.com/algolia/firestore-algolia-search/commit/728eb2fd44db5aabafb19886b12b7e622e75fe92))\n\n\n### Bug Fixes\n\n* remove the data fetch ([23a5da7](https://github.com/algolia/firestore-algolia-search/commit/23a5da7489766ecdeba9f2c354cc4221aa2cc2fe))\n","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"60"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.5","ref":"algolia/firestore-algolia-search@0.5.5","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.5","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"b58f4ea7c80892133853f41caa260eadc6b82fe22aae6a4e68352f5f59290f4b","createTime":"2021-10-06T03:12:54.052604Z","id":"0.5.5","releaseNotes":"### Features\n\n* handle removed attributes ([321cb84](https://github.com/algolia/firestore-algolia-search/commit/321cb842246df903658c9ea209fb29927cf17e85))\n* **release:** add semver, commitlint, and changelog ([728eb2f](https://github.com/algolia/firestore-algolia-search/commit/728eb2fd44db5aabafb19886b12b7e622e75fe92))\n\n\n### Bug Fixes\n\n* remove the data fetch ([23a5da7](https://github.com/algolia/firestore-algolia-search/commit/23a5da7489766ecdeba9f2c354cc4221aa2cc2fe))\n","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"100"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.6","ref":"algolia/firestore-algolia-search@0.5.6","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.6","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"STRING","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"024fd2b8d4c193776cff692f7763d40299b18c00a306360bd9021f821c392696","createTime":"2021-10-13T19:30:33.677696Z","id":"0.5.6","releaseNotes":"### Features\n\n* add document path to record ([db43169](https://github.com/algolia/firestore-algolia-search/commit/db43169be8fd846e335b5cf5737bf6d20e6c766e))\n* handle removed attributes ([321cb84](https://github.com/algolia/firestore-algolia-search/commit/321cb842246df903658c9ea209fb29927cf17e85))\n* **release:** add semver, commitlint, and changelog ([728eb2f](https://github.com/algolia/firestore-algolia-search/commit/728eb2fd44db5aabafb19886b12b7e622e75fe92))\n\n\n### Bug Fixes\n\n* remove the data fetch ([23a5da7](https://github.com/algolia/firestore-algolia-search/commit/23a5da7489766ecdeba9f2c354cc4221aa2cc2fe))\n","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"1100"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.9","ref":"algolia/firestore-algolia-search@0.5.9","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.9","description":"Enables full text search of your Cloud Firestore data with Algolia.","resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n        LOCATION=${param:LOCATION}\\\n        PROJECT_ID=${param:PROJECT_ID}\\\n        ALGOLIA_APP_ID=${param:ALGOLIA_APP_ID}\\\n        ALGOLIA_API_KEY=${param:ALGOLIA_API_KEY}\\\n        ALGOLIA_INDEX_NAME=${param:ALGOLIA_INDEX_NAME}\\\n        COLLECTION_PATH=${param:COLLECTION_PATH}\\\n        FIELDS=${param:FIELDS}\\\n        TRANSFORM_FUNCTION=${param:TRANSFORM_FUNCTION}\\\n        GOOGLE_APPLICATION_CREDENTIALS=</path/to/service/account/key>\\\n        npx firestore-algolia-search\n      ```\n      **NOTE**: In the above multiline command, make sure that the `\\` is at the end of each line, except for the last.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"DEPRECATED","hash":"14da98f1b55258d29321338fd496c8f2d1359e8e50ea743e1eda9350f65e5ae9","createTime":"2021-11-15T16:01:40.766035Z","id":"0.5.9","releaseNotes":"### Features\n\n* Changed API key to type 'secret' ([#81](https://github.com/algolia/firestore-algolia-search/issues/81)) ([9bbad73](https://github.com/algolia/firestore-algolia-search/commit/9bbad73805efc0938193af291e3b3ebe8aa36047))\n","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"2300"}},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/1.1.0","ref":"algolia/firestore-algolia-search@1.1.0","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"1.1.0","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs16\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"},{"name":"executeFullIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"availableMemoryMb: 1024\nlocation: ${param:LOCATION}\nruntime: nodejs16\ntaskQueueTrigger: {}\ntimeout: 540s\n","description":"Loads all the data from your FireStore database into Algolia","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"DO_FULL_INDEXING","label":"Full Index existing documents?","type":"SELECT","description":"Should existing documents in the Firestore collection be indexed as well?\n","required":true,"options":[{"value":"true","label":"Yes"},{"value":"false","label":"No"}]},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Important\n\nUpon installation or when the extension's configuration is changed, the documents in the specified collection will be synced to Algolia.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Collection import\n\nIf the collection named `${param:COLLECTION_PATH}` exists, the extension has begun importing documents into the `${param:ALGOLIA_INDEX_NAME}` Algolia Index. Additionally, a full reindex will occur each time the extension's configuration changes.\n\nA `lastmodified` attribute is added to Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search Firestore with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"lifecycleEvents":[{"stage":"ON_INSTALL","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"},{"stage":"ON_UPDATE","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"},{"stage":"ON_CONFIGURE","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"}],"displayName":"Search Firestore with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"742f88a60dc6e29eef1bbf47b87f34d1250e934b098c25afd0bc19f781e6f5b4","createTime":"2023-05-11T03:52:11.355463Z","id":"1.1.0","releaseNotes":"### Features\n\n* add full index ([85ac65c](https://github.com/algolia/firestore-algolia-search/commit/85ac65c19cd308fa92aeef5706cfda6b821f05a0))\n* update firestore libs ([d8263a8](https://github.com/algolia/firestore-algolia-search/commit/d8263a8e8c10b6afcf968a6afa98cec488864e7c))\n\n\n### Bug Fixes\n\n* eslint errors ([0bb1b02](https://github.com/algolia/firestore-algolia-search/commit/0bb1b025cadb640cf392ee1f023842e749a642bb))\n* full index ([8d3332e](https://github.com/algolia/firestore-algolia-search/commit/8d3332e3e294d6b23e0373fa8ee5206d72b17cfc))\n* issues with processor.ts ([737204a](https://github.com/algolia/firestore-algolia-search/commit/737204a0bfeb311f03fc8ece18e5cba716933136))\n* merge dependicies form devDepencies ([fff7993](https://github.com/algolia/firestore-algolia-search/commit/fff799358501867bab840c5d8781b90ab825ab11))\n* removing cli.js and algolia-firestore func ref ([7c7a4f2](https://github.com/algolia/firestore-algolia-search/commit/7c7a4f2e15121882a0d3fbd63817108a348cab1b))\n* removing default extension to support mutli devs ([4e83d4f](https://github.com/algolia/firestore-algolia-search/commit/4e83d4f5b50b6c8360649c88c74fe5c5b2fb4ae8))\n* update code for full indexing process ([21c633d](https://github.com/algolia/firestore-algolia-search/commit/21c633da6ddc5b81d5a1bad5b0a7de6dd91d60d4))\n* update create test ([5f5e5c4](https://github.com/algolia/firestore-algolia-search/commit/5f5e5c438e3efc1d226c2848700345b651f38e6e))\n* update json file to work emulator ([0f1e2dd](https://github.com/algolia/firestore-algolia-search/commit/0f1e2dd8d0e6788049ec320af2cc36d13707a926))\n* updating package prepare ([ea62d34](https://github.com/algolia/firestore-algolia-search/commit/ea62d34b3340a30ea1dd6b6f8ebbd5cbd565616f))\n","buildSourceUri":"https://github.com/algolia/firestore-algolia-search/tree/993481717d7931c7f5f7073044e821923a460e1e","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"300"},"extensionRoot":"/"},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/1.1.1","ref":"algolia/firestore-algolia-search@1.1.1","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"1.1.1","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs16\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"},{"name":"executeFullIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"availableMemoryMb: 1024\nlocation: ${param:LOCATION}\nruntime: nodejs16\ntaskQueueTrigger: {}\ntimeout: 540s\n","description":"Loads all the data from your FireStore database into Algolia","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"DO_FULL_INDEXING","label":"Full Index existing documents?","type":"SELECT","description":"Should existing documents in the Firestore collection be indexed as well?\n","required":true,"options":[{"value":"true","label":"Yes"},{"value":"false","label":"No"}]},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Important\n\nUpon installation or when the extension's configuration is changed, the documents in the specified collection will be synced to Algolia.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Collection import\n\nIf the collection named `${param:COLLECTION_PATH}` exists, the extension has begun importing documents into the `${param:ALGOLIA_INDEX_NAME}` Algolia Index. Additionally, a full reindex will occur each time the extension's configuration changes.\n\nA `lastmodified` attribute is added to Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search Firestore with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"lifecycleEvents":[{"stage":"ON_INSTALL","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"},{"stage":"ON_UPDATE","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"},{"stage":"ON_CONFIGURE","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"}],"displayName":"Search Firestore with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"4aacbed6689013d9588fed1738bd820eb03e922390caca6969a4b85e47908048","createTime":"2023-05-25T21:59:03.047125Z","id":"1.1.1","releaseNotes":"### Bug Fixes\n\n* use qualified full indexing function name ([0fde7c2](https://github.com/algolia/firestore-algolia-search/commit/0fde7c2cb9f971090781a3431a608eb6531a6419))\n","buildSourceUri":"https://github.com/algolia/firestore-algolia-search/tree/d3276ef2b53d0caf4c9e7d4e6fb58054fdaf5db7","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"300"},"extensionRoot":"/"},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/1.1.2","ref":"algolia/firestore-algolia-search@1.1.2","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"1.1.2","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs16\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"},{"name":"executeFullIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"availableMemoryMb: 1024\nlocation: ${param:LOCATION}\nruntime: nodejs16\ntaskQueueTrigger: {}\ntimeout: 540s\n","description":"Loads all the data from your FireStore database into Algolia","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"DO_FULL_INDEXING","label":"Full Index existing documents?","type":"SELECT","description":"Should existing documents in the Firestore collection be indexed as well?\n","required":true,"options":[{"value":"true","label":"Yes"},{"value":"false","label":"No"}]},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Important\n\nUpon installation or when the extension's configuration is changed, the documents in the specified collection will be synced to Algolia.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Collection import\n\nIf the collection named `${param:COLLECTION_PATH}` exists, the extension has begun importing documents into the `${param:ALGOLIA_INDEX_NAME}` Algolia Index. Additionally, a full reindex will occur each time the extension's configuration changes.\n\nA `lastmodified` attribute is added to Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search Firestore with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"lifecycleEvents":[{"stage":"ON_INSTALL","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"},{"stage":"ON_UPDATE","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"},{"stage":"ON_CONFIGURE","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"}],"displayName":"Search Firestore with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"61b46b863c9f0c817fa915d517ff4af4639be20f8ebc3a6696247716997e51d4","createTime":"2023-05-31T16:29:25.816465Z","id":"1.1.2","releaseNotes":"### Bug Fixes\n\n* boolean for force update and full indexing ([28f2408](https://github.com/algolia/firestore-algolia-search/commit/28f240897dc3a547f0f77ce757ce80b4207dc21f))\n","buildSourceUri":"https://github.com/algolia/firestore-algolia-search/tree/bb49f0aab13ab5083f29c353feee908f97f94923","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"200"},"extensionRoot":"/"},{"name":"publishers/algolia/extensions/firestore-algolia-search/versions/1.1.3","ref":"algolia/firestore-algolia-search@1.1.3","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"1.1.3","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs16\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"},{"name":"executeFullIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"availableMemoryMb: 1024\nlocation: ${param:LOCATION}\nruntime: nodejs16\ntaskQueueTrigger: {}\ntimeout: 540s\n","description":"Loads all the data from your FireStore database into Algolia","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"DO_FULL_INDEXING","label":"Full Index existing documents?","type":"SELECT","description":"Should existing documents in the Firestore collection be indexed as well?\n","required":true,"options":[{"value":"true","label":"Yes"},{"value":"false","label":"No"}]},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Important\n\nUpon installation or when the extension's configuration is changed, the documents in the specified collection will be synced to Algolia.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Collection import\n\nIf the collection named `${param:COLLECTION_PATH}` exists, the extension has begun importing documents into the `${param:ALGOLIA_INDEX_NAME}` Algolia Index. Additionally, a full reindex will occur each time the extension's configuration changes.\n\nA `lastmodified` attribute is added to Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search Firestore with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"lifecycleEvents":[{"stage":"ON_INSTALL","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"},{"stage":"ON_UPDATE","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"},{"stage":"ON_CONFIGURE","processingMessage":"Indexing existing documents in ${COLLECTION_PATH}","taskQueueTriggerFunction":"executeFullIndexOperation"}],"displayName":"Search Firestore with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"755f22bd94237d6a6683ca3ae605c8abd4f8db80240a608174079bc8a363b343","createTime":"2023-06-03T02:01:44.023645Z","id":"1.1.3","releaseNotes":"### Bug Fixes\n\n* add subcollection support for full indexing ([b5ce70e](https://github.com/algolia/firestore-algolia-search/commit/b5ce70e203adceeaedd093808ff7c6541f8c6714))\n","buildSourceUri":"https://github.com/algolia/firestore-algolia-search/tree/7fca73b1b3a2d729bfeba51c8ef3c91fb3119726","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"40"},"extensionRoot":"/"}]}
[debug] [2023-06-06T18:23:14.914Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/publishers/algolia/extensions/firestore-algolia-search/versions/0.5.14 [none]
[debug] [2023-06-06T18:23:15.685Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/publishers/algolia/extensions/firestore-algolia-search/versions/0.5.14 200
[debug] [2023-06-06T18:23:15.686Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/publishers/algolia/extensions/firestore-algolia-search/versions/0.5.14 {"name":"publishers/algolia/extensions/firestore-algolia-search/versions/0.5.14","ref":"algolia/firestore-algolia-search@0.5.14","spec":{"specVersion":"v1beta","name":"firestore-algolia-search","version":"0.5.14","description":"Enables full text search of your Cloud Firestore data with Algolia.","roles":[{"role":"datastore.user","reason":"Allows this extension to access Cloud Firestore to read."}],"resources":[{"name":"executeIndexOperation","type":"firebaseextensions.v1beta.function","propertiesYaml":"eventTrigger:\n  eventType: providers/cloud.firestore/eventTypes/document.write\n  resource: projects/${PROJECT_ID}/databases/(default)/documents/${COLLECTION_PATH}/{documentID}\nlocation: ${LOCATION}\nruntime: nodejs10\n","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","deletionPolicy":"DELETE"}],"billingRequired":true,"author":{"authorName":"Algolia","url":"https://algolia.com"},"contributors":[{"authorName":"Sajid Momin","email":"sajid.momin@algolia.com","url":"https://github.com/smomin"}],"license":"Apache-2.0","sourceUrl":"https://github.com/algolia/firestore-algolia-search/tree/main","params":[{"param":"COLLECTION_PATH","label":"Collection Path","type":"STRING","description":"What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n","required":true,"example":"store","validationRegex":"^[^/]+(/[^/]+/[^/]+)*$","validationErrorMessage":"Firestore collection paths must be an odd number of segments separated by slashes, e.g. \"path/to/collection\".","immutable":true},{"param":"FIELDS","label":"Indexable Fields","type":"STRING","description":"This can be a comma separated list or left blank to index all fields. For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits). If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n","example":"name,category,price,sales"},{"param":"FORCE_DATA_SYNC","label":"Force Data Sync","type":"SELECT","description":"The extension uses approaches to mitigate race conditions but it might not be a 100% fool proof.  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.  note: This will be a add to your usage of Firestore.","options":[{"value":"no","label":"No"},{"value":"yes","label":"Yes"}],"default":"no"},{"param":"ALGOLIA_INDEX_NAME","label":"Algolia Index Name","type":"STRING","description":"This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/) where the records will be persisted. Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.","required":true},{"param":"ALGOLIA_APP_ID","label":"Algolia Application Id","type":"STRING","description":"This is the Algolia application you want to index your data to. You can find your credentials including application ID on your Algolia dashboard, under the [API keys tab](https://www.algolia.com/api-keys).","required":true},{"param":"ALGOLIA_API_KEY","label":"Algolia API Key","type":"SECRET","description":"We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys) with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions. **Do not use the Admin API key**.","required":true},{"param":"TRANSFORM_FUNCTION","label":"Transform Function Name (Experimental)","type":"STRING","description":"Specify a Firebase Cloud Function for any data transformation before saving into Algolia. Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable)."},{"param":"LOCATION","label":"Cloud Functions location","type":"SELECT","description":"Where do you want to deploy the functions created for this extension? You usually want a location close to your database. For help selecting a location, refer to the [location selection guide](https://firebase.google.com/docs/functions/locations).","required":true,"options":[{"value":"us-central1","label":"Iowa (us-central1)"},{"value":"us-east1","label":"South Carolina (us-east1)"},{"value":"us-east4","label":"Northern Virginia (us-east4)"},{"value":"us-west2","label":"Los Angeles (us-west2)"},{"value":"us-west3","label":"Salt Lake City (us-west3)"},{"value":"us-west4","label":"Las Vegas (us-west4)"},{"value":"europe-central2","label":"Warsaw (europe-central2)"},{"value":"europe-west1","label":"Belgium (europe-west1)"},{"value":"europe-west2","label":"London (europe-west2)"},{"value":"europe-west3","label":"Frankfurt (europe-west3)"},{"value":"europe-west6","label":"Zurich (europe-west6)"},{"value":"asia-east2","label":"Hong Kong (asia-east2)"},{"value":"asia-northeast1","label":"Tokyo (asia-northeast1)"},{"value":"asia-northeast2","label":"Osaka (asia-northeast2)"},{"value":"asia-northeast3","label":"Seoul (asia-northeast3)"},{"value":"asia-south1","label":"Mumbai (asia-south1)"},{"value":"asia-southeast2","label":"Jakarta (asia-southeast2)"},{"value":"northamerica-northeast1","label":"Montreal (northamerica-northeast1)"},{"value":"southamerica-east1","label":"Sao Paulo (southamerica-east1)"},{"value":"australia-southeast1","label":"Sydney (australia-southeast1)"}],"immutable":true}],"preinstallContent":"Use this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've\n[set up a Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart)\nin your Firebase project.\n\nYou must also have an Algolia account set up before installing this\nextension. You can do so on the [Algolia](https://www.algolia.com/) site.\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n","postinstallContent":"### See it in action\n\nYou can test out this extension right away:\n\n1.  Go to the [Cloud Firestore tab](https://console.firebase.google.com/project/${param:PROJECT_ID}/database/firestore/data).\n\n1.  If it doesn't exist already, create a collection called `${param:COLLECTION_PATH}`.\n\n1.  Create, update, or delete a document in the `${param:COLLECTION_PATH}` collection.  Go to Algolia's dashboard and verify in Algolia that a record is created, updated, or deleted in the `${param:ALGOLIA_INDEX_NAME}` index for application id `${param:ALGOLIA_APP_ID}`.\n\n### Using the extension\n\nThis extension listens to the Cloud Firestore collection `${param:COLLECTION_PATH}`. If you create, update, or delete a document within that collection, this extension will:\n\n- Indexes the document and send all the fields or configured fields defined in the extension.\n- or, removes the record from Algolia index if the document is deleted.\n\n### _(Optional)_ Import existing documents or Reindex after configuration changes\nThis extension starts monitoring the `${param:COLLECTION_PATH}` collection after a successful installation. Any existing documents created before the extension installation can be back-filled into your Algolia `${param:ALGOLIA_INDEX_NAME}` Index using the import script.  Also, you will need to run the import script if you change the Indexable Fields, Index Name, Application Id, and/or API Key configuration.\n\nThe import script will read all existing documents in the `${param:COLLECTION_PATH}` collection and insert them into the Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n\n##### Important notes\n\n- You must run the import script over the entire collection **_after_** installing the Search with Algolia extension; otherwise you will have missing records in your Algolia `${param:ALGOLIA_INDEX_NAME}` index.\n- `lastmodified` attributed is added to all Algolia records to eliminate race condition issues related from the Cloud Function cold start.\n\n#### Run the script\n\nThe script will use the extension configuration before the import process starts.\n\nRun the import process using `npx`.\n\n1.  Make sure that you've installed the required tools to run the import script:\n    - To access the `npx` command tools, you need to install [Node.js](https://www.nodejs.org/).\n    - If you use `npm` v5.1 or earlier, you need to explicitly install `npx`. Run `npm install --global npx`.\n\n1.  The import script uses Application Default Credentials to communicate with Firebase.\n    Please follow the instructions to [generate a key for your service account](https://firebase.google.com/docs/admin/setup#initialize-sdk).\n\n1.  Execute the below command:\n    - Update the path to the Google Application credentials.\n    - Clear out the `FIELDS` or/and `TRANSFORM_FUNCTION` params if it contains `{ unspecified parameter }` in the command below since it's an invalid value.\n      ```\n      npx firestore-algolia-search\n      ```\n      Below are the questions that will be asked:\n      ```\n      What is the Region? ${param:LOCATION}\n      What is the Project Id? ${param:PROJECT_ID}\n      What is the Algolia App Id? ${param:ALGOLIA_APP_ID}\n      What is the Algolia Api Key? ${param:ALGOLIA_API_KEY}\n      What is the Algolia Index Name? ${param:ALGOLIA_INDEX_NAME}\n      What is the Collection Path? ${param:COLLECTION_PATH}\n      What are the Fields to extract? ${param:FIELDS}\n      What is the Transform Function? ${param:TRANSFORM_FUNCTION}\n      What is the path to the Google Application Credential File? </path/to/service/account/key>\n      ```\n      **NOTE**: Make sure that there is no space inbetween the specified `FIELDS`. E.g. `name,category,views` ✅ | `name, category, views` ❌.\n### Monitoring\n\nAs a best practice, you can [monitor the activity](https://firebase.google.com/docs/extensions/manage-installed-extensions#monitor) of your installed extension, including checks on its health, usage, and logs.\n","readmeContent":"# Search with Algolia\n\n**Author**: Algolia (**[https://www.algolia.com](https://www.algolia.com)**)\n\n**Description**: Enable full text search of your Cloud Firestore data with Algolia.\n\n**Details**: Use this extension to index your Cloud Firestore data to [Algolia](https://www.algolia.com/doc/) and keep it synced.\n\nYou can then [configure your relevance](/doc/guides/getting-started/how-algolia-works/in-depth/implementation-process/#configuring-relevance) using the [Algolia dashboard](https://www.algolia.com/dashboard) or [API clients](/doc/api-client/getting-started/install/javascript/). From there, you can use Algolia's [front-end libraries](/doc/guides/building-search-ui/what-is-instantsearch/js/) to incorporate search components into your Firebase app's UI.\n\n---\n\nWe welcome [bug reports and feature requests](https://github.com/algolia/firestore-algolia-search/issues/new) as well as pull requests in this GitHub repository.\n\n### Firebase CLI\n\n```bash\nfirebase ext:install algolia/firestore-algolia-search --project=<your-project-id>\n```\n\n> Learn more about installing extensions in the Firebase Extensions documentation: [console](https://firebase.google.com/docs/extensions/install-extensions?platform=console), [CLI](https://firebase.google.com/docs/extensions/install-extensions?platform=cli)\n\n---\n\n#### Details\n\nUse this extension to index your Cloud Firestore data to Algolia and keep it synced.  The extension is applied and configured on a Firestore [collection](https://firebase.google.com/docs/firestore/data-model#collections) or [subcollection](https://firebase.google.com/docs/firestore/data-model#subcollections).\n\nThis extension listens for changes on the specified collection. If you add a [document](https://firebase.google.com/docs/firestore/data-model#documents), the extension indexes it as a [record in Algolia](https://www.algolia.com/doc/faq/basics/what-is-a-record/). The extension only indexes the fields defined in the extension configuration and uses the [document Id](https://firebase.google.com/docs/firestore/manage-data/add-data#add_a_document) as the Algolia [object Id](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#using-unique-object-identifiers).\n\nAnytime you update a document, the extension propagates the update to the corresponding Algolia record. If you delete a document, the extension removes the corresponding Algolia record.\n\n#### Additional setup\n\nBefore installing this extension, make sure that you've set up:\n- [Cloud Firestore database](https://firebase.google.com/docs/firestore/quickstart) in your Firebase project.\n- [Algolia](https://www.algolia.com/) account.\n\n\n#### Billing\n\nThis extension uses the following Firebase services which may have associated charges:\n\n- Cloud Firestore\n- Cloud Functions\n\nThis extension also uses the following third-party services:\n\n- Algolia ([pricing information](https://www.algolia.com/pricing))\n\nYou are responsible for any costs associated with your use of these services.\n\n#### Note from Firebase\n\nTo install this extension, your Firebase project must be on the Blaze (pay-as-you-go) plan. You will only be charged for the resources you use. Most Firebase services offer a free tier for low-volume use. [Learn more about Firebase billing.](https://firebase.google.com/pricing)\n\nYou will be billed a small amount (typically less than $0.10) when you install or reconfigure this extension. See Cloud Functions under [Firebase Pricing](https://firebase.google.com/pricing) for a detailed explanation.\n\n#### Configuration Parameters\n\nCloud Functions Location: Where do you want to deploy the functions created for this extension?\n  You usually want a location close to your database.\n  For help selecting a location, refer to the\n  [location selection guide](https://firebase.google.com/docs/functions/locations).\n\n- Collection Path: What is the path to the Cloud Firestore collection where the extension should monitor for changes?\n  For subcollection, the syntax is `parent_collection/{parentId}/target_collection`. (please note, there is not depublication process on subcollections).\n\n- Fields: What document fields should be indexed to provide the best search experience? For more information on which fields to index to Algolia, see the [Algolia documentation on records](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/#algolia-records).\n  This can be a comma separated list or left blank to index all fields.\n  For performance reasons, [record size is limited](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/index-and-records-size-and-usage-limitations/#record-size-limits).\n  If you're receiving errors that your records are too large, refer to the [reducing record size documentation](https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/how-to/reducing-object-size/).\n\n- Force Data Sync: Are you facing data inconsistent issues possibly due to race conditions?\n  This setting will make sure the function is using the latest data from Firestore by making another read call before processing and sending to Algolia.\n\n- Algolia Application ID: What is the Algolia Application Id?\n  This is the Algolia application you want to index your data to.\n  You can find your credentials including application ID on your Algolia dashboard,\n  under the [API keys tab](https://www.algolia.com/api-keys).\n\n- Algolia API Key: What is your Algolia API key?\n  We recommend [creating a new API key](https://www.algolia.com/doc/guides/security/api-keys/#creating-and-managing-api-keys)\n  with \"addObject\", \"deleteObject\", \"listIndexes\", \"deleteIndex\", \"editSettings\", and \"settings\" permissions.\n  **Do not use the Admin API key**.\n\n- Algolia Index Name: What is the Algolia index name?\n  This is the name of the [Algolia index](https://www.algolia.com/doc/faq/basics/what-is-an-index/)\n  where the records will be persisted.\n  Refer to [naming your index](https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/#naming-your-index) for more information.\n\n- Transform Function Name (experimental): What is the Firebase Cloud Function Name?\n  This is the name of the Firestore Cloud Function for transforming the data before transmitting to Algolia for indexing.\n  This function should be deployed to the same Firebase Project and Location as the Firestore/Algolia extension.\n  Refer to [Call functions for your app](https://firebase.google.com/docs/functions/callable).\n  Below is an example of a Transform function used for my testing:\n  ```javascript\n    import * as functions from \"firebase-functions\";\n\n    const doStuffToData = (payload: any) => {\n      return {\n      ...payload,\n      \"hello\": \"world\",\n      };\n    };\n\n    export const helloWorld = functions.https.onCall((payload) => {\n      const transformedData = doStuffToData(payload);\n      return transformedData;\n    });\n  ```\n  **Note**: The Transform Firebase Function should be set up to unauthenticated users at this time.\n\n#### Cloud Functions\n\n- **executeIndexOperation:** Firestore document-triggered function that creates, updates, or deletes data in Algolia.\n","externalServices":[{"name":"Algolia","pricingUri":"https://algolia.com/pricing"}],"displayName":"Search with Algolia","systemParams":[{"param":"firebaseextensions.v1beta.function/memory","label":"Function memory","type":"SELECT","description":"How much memory should be allocated to each function?","options":[{"value":"128","label":"128MB"},{"value":"256","label":"256MB"},{"value":"512","label":"512MB"},{"value":"1024","label":"1GB"},{"value":"2048","label":"2GB"},{"value":"4096","label":"4GB"},{"value":"8192","label":"8GB"}],"default":"256","advanced":true},{"param":"firebaseextensions.v1beta.function/timeoutSeconds","label":"Function timeout seconds","type":"STRING","description":"How long should functions run before timing out, in seconds (0-540)?","validationRegex":"^[1-9][0-9]{0,2}$","validationErrorMessage":"Function timeout should be an integer number of seconds, between 0 and 540","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnector","label":"VPC Connector","type":"STRING","description":"The VPC Network Connector that this cloud function can connect to. It can be either the fully-qualified URI, or the short name of the network connector resource. The format of this field is projects/*/locations/*/connectors/*.","validationRegex":"^projects/([^/]+)/locations/([^/]+)/connectors/([^/]+)$","advanced":true},{"param":"firebaseextensions.v1beta.function/vpcConnectorEgressSettings","label":"VPC Connector Egress settings","type":"SELECT","description":"Controls outgoing traffic when a VPC connector is configured","options":[{"value":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","label":"Unspecified"},{"value":"PRIVATE_RANGES_ONLY","label":"Private ranges only"},{"value":"ALL_TRAFFIC","label":"All traffic"}],"default":"VPC_CONNECTOR_EGRESS_SETTINGS_UNSPECIFIED","advanced":true},{"param":"firebaseextensions.v1beta.function/minInstances","label":"Minimum function instances","type":"STRING","description":"The minimum number of instances of each function to run at once (0-1000)","default":"0","validationRegex":"^[0-9]*$","validationErrorMessage":"Min instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/maxInstances","label":"Maximum function instances","type":"STRING","description":"The maximum number of instances of each function to run at once","default":"3000","validationRegex":"^[0-9]*$","validationErrorMessage":"Max instances must be a non-negative integer.","advanced":true},{"param":"firebaseextensions.v1beta.function/ingressSettings","label":"Function ingress settings","type":"SELECT","description":"Where should functions allow incoming traffic from?","options":[{"value":"ALLOW_ALL","label":"Allow all"},{"value":"ALLOW_INTERNAL_ONLY","label":"Allow internal only"},{"value":"ALLOW_INTERNAL_AND_GCLB","label":"Allow internal and GCLB"}],"advanced":true},{"param":"firebaseextensions.v1beta.function/labels","label":"Function labels","type":"STRING","description":"Do you wish to set any labels on this instance's Cloud Functions? If so, provide up to 55 labels in the format 'key1:value, key2:value'","validationRegex":"^([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63},\\s*)*([a-zžà-ÿ][A-Za-zŽžÀ-ÿ0-9_-]{0,62}:[A-Za-zŽžÀ-ÿ0-9_-]{0,63})$","advanced":true}]},"state":"PUBLISHED","hash":"03bab7844ddc5fe213133ad4da94578081b894882e8244f39b6c06bdf46b0270","createTime":"2022-09-09T03:04:10.260926Z","sourceDownloadUri":"https://storage.googleapis.com/firebase-mod-sources-prod/03bab7844ddc5fe213133ad4da94578081b894882e8244f39b6c06bdf46b0270","id":"0.5.14","releaseNotes":"### Bug Fixes\n\n* remove null attributes from index record ([e297e27](https://github.com/algolia/firestore-algolia-search/commit/e297e27e28c8cda6cc6dd274f2bafbbc775781c7))\n","listing":{"state":"APPROVED"},"metrics":{"activeInstallCount":"7300"}}
[debug] [2023-06-06T18:23:15.691Z] [extensions] Source code valid for algolia/firestore-algolia-search@0.5.14
[debug] [2023-06-06T18:23:15.692Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/publishers/algolia/extensions/firestore-algolia-search [none]
[debug] [2023-06-06T18:23:16.402Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/publishers/algolia/extensions/firestore-algolia-search 200
[debug] [2023-06-06T18:23:16.402Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/publishers/algolia/extensions/firestore-algolia-search {"name":"publishers/algolia/extensions/firestore-algolia-search","ref":"algolia/firestore-algolia-search","latestVersion":"1.1.3","latestVersionCreateTime":"2023-06-03T02:01:44.023645Z","state":"PUBLISHED","createTime":"2021-04-02T21:17:03.133196Z","visibility":"PUBLIC","registryLaunchStage":"BETA","iconUri":"https://storage.googleapis.com/firebase-extensions-icons/extension_icons/algolia/algolia_search_120@2x.png","publisher":{"displayName":"Algolia","iconUri":"https://storage.googleapis.com/firebase-extensions-icons/publisher_icons/algolia/algolia.svg"},"repoUri":"https://github.com/algolia/firestore-algolia-search","metrics":{"activeInstallCount":"15400"},"latestApprovedVersion":"1.1.3"}
[warn] ⚠  extensions[firestore-algolia-search]:  ignored becuase it includes firestore triggered functions, and the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"extensions"},"message":" ignored becuase it includes firestore triggered functions, and the firestore emulator does not exist or is not running."}}
[warn] ⚠  No Cloud Functions for these instances will be emulated, because partially emulating an Extension can lead to unexpected behavior.  {"metadata":{"emulator":{"name":"extensions"},"message":"No Cloud Functions for these instances will be emulated, because partially emulating an Extension can lead to unexpected behavior. "}}
[debug] [2023-06-06T18:23:16.426Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-06-06T18:23:16.426Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-06-06T18:23:16.426Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-06-06T18:23:16.444Z] [hub] writing locator at /tmp/hub-politics-navigator.json
[debug] [2023-06-06T18:23:16.460Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2023-06-06T18:23:16.462Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-06-06T18:23:16.462Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-06-06T18:23:16.462Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[warn] ⚠  Your requested "node" version "16" doesn't match your global version "18". Using node@18 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"16\" doesn't match your global version \"18\". Using node@18 from host."}}
[debug] [2023-06-06T18:23:16.483Z] defaultcredentials: writing to file /home/septimber/.config/firebase/sep_sep_dev_application_default_credentials.json
[debug] [2023-06-06T18:23:16.491Z] Setting GAC to /home/septimber/.config/firebase/sep_sep_dev_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/septimber/.config/firebase/sep_sep_dev_application_default_credentials.json"}}
[debug] [2023-06-06T18:23:16.492Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator/adminSdkConfig [none]
[debug] [2023-06-06T18:23:16.830Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator/adminSdkConfig 200
[debug] [2023-06-06T18:23:16.831Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator/adminSdkConfig {"projectId":"politics-navigator","databaseURL":"https://politics-navigator-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"politics-navigator.appspot.com"}
[debug] [2023-06-06T18:23:16.901Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/politics-navigator/sites 
[debug] [2023-06-06T18:23:17.732Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/politics-navigator/sites 200
[debug] [2023-06-06T18:23:17.732Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/politics-navigator/sites {"sites":[{"name":"projects/politics-navigator/sites/politics-navigator","defaultUrl":"https://politics-navigator.web.app","type":"DEFAULT_SITE"}]}
[debug] [2023-06-06T18:23:17.733Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator/webApps/-/config [none]
[debug] [2023-06-06T18:23:18.356Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator/webApps/-/config 200
[debug] [2023-06-06T18:23:18.356Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator/webApps/-/config {"projectId":"politics-navigator","databaseURL":"https://politics-navigator-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"politics-navigator.appspot.com","apiKey":"AIzaSyBmoJdDeYi7899lRxaCH5vd8hCYAhOMiTQ","authDomain":"politics-navigator.firebaseapp.com","messagingSenderId":"548958651102"}
[debug] [2023-06-06T18:23:18.380Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator [none]
[debug] [2023-06-06T18:23:18.655Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator 200
[debug] [2023-06-06T18:23:18.656Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/politics-navigator {"projectId":"politics-navigator","projectNumber":"548958651102","displayName":"Politics Navigator","name":"projects/politics-navigator","resources":{"hostingSite":"politics-navigator","realtimeDatabaseInstance":"politics-navigator-default-rtdb"},"state":"ACTIVE","etag":"1_2d6c6467-6d7c-41c0-ae61-54ad2ca2c727"}
[info] i  hosting[politics-navigator]: Serving hosting files from: public {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mpublic\u001b[22m"}}
[info] ✔  hosting[politics-navigator]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[debug] [2023-06-06T18:23:18.691Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-06-06T18:23:18.691Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-06-06T18:23:18.691Z] Starting Emulator UI with command {"binary":"node","args":["/home/septimber/.cache/firebase/emulators/ui-v1.11.1/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/septimber/.cache/firebase/emulators/ui-v1.11.1/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-06-06T18:23:18.960Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-06-06T18:23:18.961Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[debug] [2023-06-06T18:23:18.981Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "/home/septimber/politics/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/septimber/politics/functions\" for Cloud Functions..."}}
[debug] [2023-06-06T18:23:19.002Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2023-06-06T18:23:22.527Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "algoliasearch": "^4.17.0",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-06-06T18:23:22.532Z] Building nodejs source
[debug] [2023-06-06T18:23:22.532Z] Analyzing nodejs backend spec
[debug] [2023-06-06T18:23:22.535Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-06-06T18:23:23.012Z] Serving at port 9005

[debug] [2023-06-06T18:23:23.656Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"helloWorld"},"addMessage":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"addMessage"},"search":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY"}],"callableTrigger":{},"entryPoint":"search"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-06-06T18:23:23.678Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, addMessage, search. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, addMessage, search."}}
[info] ✔  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/politics-navigator/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/politics-navigator/us-central1/helloWorld)."}}
[info] ✔  functions[us-central1-addMessage]: http function initialized (http://127.0.0.1:5001/politics-navigator/us-central1/addMessage). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/politics-navigator/us-central1/addMessage)."}}
[info] ✔  functions[us-central1-search]: http function initialized (http://127.0.0.1:5001/politics-navigator/us-central1/search). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/politics-navigator/us-central1/search)."}}
[warn] ⚠  extensions[firestore-algolia-search]:  ignored becuase it includes firestore triggered functions, and the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"extensions"},"message":" ignored becuase it includes firestore triggered functions, and the firestore emulator does not exist or is not running."}}
[warn] ⚠  No Cloud Functions for these instances will be emulated, because partially emulating an Extension can lead to unexpected behavior.  {"metadata":{"emulator":{"name":"extensions"},"message":"No Cloud Functions for these instances will be emulated, because partially emulating an Extension can lead to unexpected behavior. "}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────┬────────────────┬──────────────────────────────────┐
│ Emulator   │ Host:Port      │ View in Emulator UI              │
├────────────┼────────────────┼──────────────────────────────────┤
│ Functions  │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────┼────────────────┼──────────────────────────────────┤
│ Hosting    │ 127.0.0.1:5000 │ n/a                              │
├────────────┼────────────────┼──────────────────────────────────┤
│ Extensions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:35 +0000] "GET / HTTP/1.1" 200 - "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:35 +0000] \"GET / HTTP/1.1\" 200 - \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:29:35.610Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-app-compat.js [none]
[debug] [2023-06-06T18:29:35.613Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-auth-compat.js [none]
[debug] [2023-06-06T18:29:35.808Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-app-compat.js 200
[debug] [2023-06-06T18:29:35.827Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-app-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:35 +0000] "GET /__/firebase/9.20.0/firebase-app-compat.js HTTP/1.1" 200 9289 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:35 +0000] \"GET /__/firebase/9.20.0/firebase-app-compat.js HTTP/1.1\" 200 9289 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:29:35.887Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-auth-compat.js 200
[debug] [2023-06-06T18:29:35.887Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-auth-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:35 +0000] "GET /__/firebase/9.20.0/firebase-auth-compat.js HTTP/1.1" 200 38096 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:35 +0000] \"GET /__/firebase/9.20.0/firebase-auth-compat.js HTTP/1.1\" 200 38096 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:29:35.980Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-database-compat.js [none]
[debug] [2023-06-06T18:29:35.998Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-firestore-compat.js [none]
[debug] [2023-06-06T18:29:36.013Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-functions-compat.js [none]
[debug] [2023-06-06T18:29:36.018Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-messaging-compat.js [none]
[debug] [2023-06-06T18:29:36.030Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-analytics-compat.js [none]
[debug] [2023-06-06T18:29:36.047Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-storage-compat.js [none]
[debug] [2023-06-06T18:29:36.070Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-firestore-compat.js 200
[debug] [2023-06-06T18:29:36.070Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-firestore-compat.js [stream]
[debug] [2023-06-06T18:29:36.078Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-messaging-compat.js 200
[debug] [2023-06-06T18:29:36.079Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-messaging-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /__/firebase/9.20.0/firebase-messaging-compat.js HTTP/1.1" 200 9926 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /__/firebase/9.20.0/firebase-messaging-compat.js HTTP/1.1\" 200 9926 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:29:36.117Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-database-compat.js 200
[debug] [2023-06-06T18:29:36.117Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-database-compat.js [stream]
[debug] [2023-06-06T18:29:36.131Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-functions-compat.js 200
[debug] [2023-06-06T18:29:36.131Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-functions-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /__/firebase/9.20.0/firebase-functions-compat.js HTTP/1.1" 200 3224 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /__/firebase/9.20.0/firebase-functions-compat.js HTTP/1.1\" 200 3224 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:29:36.143Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-analytics-compat.js 200
[debug] [2023-06-06T18:29:36.143Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-analytics-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /__/firebase/9.20.0/firebase-analytics-compat.js HTTP/1.1" 200 9144 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /__/firebase/9.20.0/firebase-analytics-compat.js HTTP/1.1\" 200 9144 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /__/firebase/9.20.0/firebase-firestore-compat.js HTTP/1.1" 200 95863 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /__/firebase/9.20.0/firebase-firestore-compat.js HTTP/1.1\" 200 95863 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:29:36.173Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-storage-compat.js 200
[debug] [2023-06-06T18:29:36.175Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-storage-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /__/firebase/9.20.0/firebase-storage-compat.js HTTP/1.1" 200 13326 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /__/firebase/9.20.0/firebase-storage-compat.js HTTP/1.1\" 200 13326 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /__/firebase/9.20.0/firebase-database-compat.js HTTP/1.1" 200 47924 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /__/firebase/9.20.0/firebase-database-compat.js HTTP/1.1\" 200 47924 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:29:36.191Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-remote-config-compat.js [none]
[debug] [2023-06-06T18:29:36.195Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-performance-compat.js [none]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /__/firebase/init.js?useEmulator=true HTTP/1.1" 200 - "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /__/firebase/init.js?useEmulator=true HTTP/1.1\" 200 - \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:29:36.238Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-performance-compat.js 200
[debug] [2023-06-06T18:29:36.238Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-performance-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /__/firebase/9.20.0/firebase-performance-compat.js HTTP/1.1" 200 10247 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /__/firebase/9.20.0/firebase-performance-compat.js HTTP/1.1\" 200 10247 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:29:36.247Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-remote-config-compat.js 200
[debug] [2023-06-06T18:29:36.247Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-remote-config-compat.js [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /__/firebase/9.20.0/firebase-remote-config-compat.js HTTP/1.1" 200 8807 "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /__/firebase/9.20.0/firebase-remote-config-compat.js HTTP/1.1\" 200 8807 \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] "GET /favicon.ico HTTP/1.1" 200 - "http://127.0.0.1:5000/" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:29:36 +0000] \"GET /favicon.ico HTTP/1.1\" 200 - \"http://127.0.0.1:5000/\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:57:29.200Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-app-compat.js.map [none]
[debug] [2023-06-06T18:57:29.205Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-auth-compat.js.map [none]
[debug] [2023-06-06T18:57:29.222Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-database-compat.js.map [none]
[debug] [2023-06-06T18:57:29.239Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-firestore-compat.js.map [none]
[debug] [2023-06-06T18:57:29.248Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-functions-compat.js.map [none]
[debug] [2023-06-06T18:57:29.263Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-messaging-compat.js.map [none]
[debug] [2023-06-06T18:57:29.564Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-app-compat.js.map 200
[debug] [2023-06-06T18:57:29.564Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-app-compat.js.map [stream]
[debug] [2023-06-06T18:57:29.575Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-auth-compat.js.map 200
[debug] [2023-06-06T18:57:29.576Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-auth-compat.js.map [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] "GET /__/firebase/9.20.0/firebase-app-compat.js.map HTTP/1.1" 200 47566 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] \"GET /__/firebase/9.20.0/firebase-app-compat.js.map HTTP/1.1\" 200 47566 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:57:29.622Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-database-compat.js.map 200
[debug] [2023-06-06T18:57:29.622Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-database-compat.js.map [stream]
[debug] [2023-06-06T18:57:29.661Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-storage-compat.js.map [none]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] "GET /__/firebase/9.20.0/firebase-auth-compat.js.map HTTP/1.1" 200 185133 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] \"GET /__/firebase/9.20.0/firebase-auth-compat.js.map HTTP/1.1\" 200 185133 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] "GET /__/firebase/9.20.0/firebase-database-compat.js.map HTTP/1.1" 200 240319 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] \"GET /__/firebase/9.20.0/firebase-database-compat.js.map HTTP/1.1\" 200 240319 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:57:29.727Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-firestore-compat.js.map 200
[debug] [2023-06-06T18:57:29.727Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-firestore-compat.js.map [stream]
[debug] [2023-06-06T18:57:29.734Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-analytics-compat.js.map [none]
[debug] [2023-06-06T18:57:29.768Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-messaging-compat.js.map 200
[debug] [2023-06-06T18:57:29.768Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-messaging-compat.js.map [stream]
[debug] [2023-06-06T18:57:29.796Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-functions-compat.js.map 200
[debug] [2023-06-06T18:57:29.799Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-functions-compat.js.map [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] "GET /__/firebase/9.20.0/firebase-functions-compat.js.map HTTP/1.1" 200 14661 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] \"GET /__/firebase/9.20.0/firebase-functions-compat.js.map HTTP/1.1\" 200 14661 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] "GET /__/firebase/9.20.0/firebase-firestore-compat.js.map HTTP/1.1" 200 595471 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] \"GET /__/firebase/9.20.0/firebase-firestore-compat.js.map HTTP/1.1\" 200 595471 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:57:29.931Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-storage-compat.js.map 200
[debug] [2023-06-06T18:57:29.931Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-storage-compat.js.map [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] "GET /__/firebase/9.20.0/firebase-messaging-compat.js.map HTTP/1.1" 200 46376 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:29 +0000] \"GET /__/firebase/9.20.0/firebase-messaging-compat.js.map HTTP/1.1\" 200 46376 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:57:29.974Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-remote-config-compat.js.map [none]
[debug] [2023-06-06T18:57:29.979Z] >>> [apiv2][query] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-performance-compat.js.map [none]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:30 +0000] "GET /__/firebase/9.20.0/firebase-storage-compat.js.map HTTP/1.1" 200 66549 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:30 +0000] \"GET /__/firebase/9.20.0/firebase-storage-compat.js.map HTTP/1.1\" 200 66549 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[debug] [2023-06-06T18:57:30.036Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-analytics-compat.js.map 200
[debug] [2023-06-06T18:57:30.036Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-analytics-compat.js.map [stream]
[debug] [2023-06-06T18:57:30.042Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-performance-compat.js.map 200
[debug] [2023-06-06T18:57:30.043Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-performance-compat.js.map [stream]
[debug] [2023-06-06T18:57:30.048Z] <<< [apiv2][status] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-remote-config-compat.js.map 200
[debug] [2023-06-06T18:57:30.048Z] <<< [apiv2][body] GET https://www.gstatic.com/firebasejs/9.20.0/firebase-remote-config-compat.js.map [stream]
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:30 +0000] "GET /__/firebase/9.20.0/firebase-analytics-compat.js.map HTTP/1.1" 200 47360 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:30 +0000] \"GET /__/firebase/9.20.0/firebase-analytics-compat.js.map HTTP/1.1\" 200 47360 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:30 +0000] "GET /__/firebase/9.20.0/firebase-performance-compat.js.map HTTP/1.1" 200 49759 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:30 +0000] \"GET /__/firebase/9.20.0/firebase-performance-compat.js.map HTTP/1.1\" 200 49759 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
[info] i  hosting: 127.0.0.1 - - [06/Jun/2023:18:57:30 +0000] "GET /__/firebase/9.20.0/firebase-remote-config-compat.js.map HTTP/1.1" 200 45456 "-" "Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" {"metadata":{"emulator":{"name":"hosting"},"message":"127.0.0.1 - - [06/Jun/2023:18:57:30 +0000] \"GET /__/firebase/9.20.0/firebase-remote-config-compat.js.map HTTP/1.1\" 200 45456 \"-\" \"Mozilla/5.0 (X11; CrOS x86_64 14541.0.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36\""}}
